{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-body">
        <h3 class="card-title">Break-Even Calculation Result</h3>
        
        {% if q2 is not none and q2 > 0 %}
            <div class="alert alert-success">
                To get your average price for <strong>{{ stock.stock_name }}</strong> down to <strong>${{ p_target }}</strong>
                (at the current price of ${{ stock.current_price }}), 
                you would need to buy <strong>{{ q2 | round(2) }}</strong> additional shares.
            </div>
        {% else %}
            <div class="alert alert-danger">
                Calculation failed. Please ensure your target price is valid (it must be between 
                your buy price of ${{ stock.buy_price }} and the current price of ${{ stock.current_price }}).
            </div>
        {% endif %}
        
        <a href="/manage_loss" class="btn btn-secondary">Back to Manage Loss</a>
    </div>
</div>
{% endblock %}